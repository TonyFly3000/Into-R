)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:n()) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(1:n()) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(1:n()) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:n()) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:n()-1) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:n()-2) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
View(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:n()-3) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%tail(,-1) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
View(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%tail(nrow(data)) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:nrow(data)) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:nrow(data)) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
nrow(data)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:25) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
View(raw_tibble003)
View(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:23) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
View(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(2:20) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble003)
View(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)%>%slice(2:20)
glimpse(raw_tibble003)
View(raw_tibble003)
View(raw_tibble003)
View(raw_tibble003)
raw_tibble003 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)%>%slice(2:19)
glimpse(raw_tibble003)
View(raw_tibble003)
data=c(raw_tibble001,raw_tibble002,raw_tibble003)
eng <- tesseract("eng")
text <- tesseract::ocr("640-1.png", engine = eng)
a-1
data=c(raw_tibble001,raw_tibble002,raw_tibble003)
text <- tesseract::ocr("640-1.png", engine = eng)
raw_tibble002 <- text %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(4:n()-2) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble002)
data=c(raw_tibble001,raw_tibble002,raw_tibble003)
write.xlsx(data,'image output.xlsx')
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
data
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003)
write.xlsx(data,'image output data.xlsx')
library(tidyverse)
library(openxlsx)
library(readxl)
eng <- tesseract("eng")
library(tesseract)
eng <- tesseract("eng")
text001 <- tesseract::ocr("640.png", engine = eng)
cat(text001)
raw_tibble001 <- text001 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .) %>% slice(6:n()) %>% filter(str_length(data) >= 2) %>%  mutate(old=data
,data=data %>%str_replace_all('_','')
) %>% separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble001)
View(raw_tibble001)
View(raw_tibble001)
View(raw_tibble001)
eng <- tesseract("eng")
text002 <- tesseract::ocr("640-1.png", engine = eng)
raw_tibble002 <- text002 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')
)%>%slice(4:n()-2) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble002)
View(raw_tibble002)
eng <- tesseract("eng")
text003 <- tesseract::ocr("640-2.png", engine = eng)
raw_tibble003 <- text003 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_',' ')
) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)%>%slice(2:19)
glimpse(raw_tibble003)
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003)
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
raw_tibble001 <- text001 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .) %>% slice(6:n()) %>% filter(str_length(data) >= 2) %>%  mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all(""",'')
) %>% separate(
data,
into = c("one", "price"),
raw_tibble001 <- text001 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .) %>% slice(6:n()) %>% filter(str_length(data) >= 2) %>%  mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all('"','')
) %>% separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble001)
raw_tibble002 <- text002 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all('"','')
)%>%slice(4:n()-2) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble002)
raw_tibble003 <- text003 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all('"','')
) %>%
separate(
data,
into = c("one", "price"),
sep = c(" ¥ ")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)%>%slice(2:19)
glimpse(raw_tibble003)
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003)
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
raw_tibble001 <- text001 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .) %>% slice(6:n()) %>% filter(str_length(data) >= 2) %>%  mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all('"','')
) %>% separate(
data,
into = c("one", "price"),
sep = c("¥")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble001)
raw_tibble002 <- text002 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all('"','')
)%>%slice(4:n()-2) %>%
separate(
data,
into = c("one", "price"),
sep = c("¥")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)
glimpse(raw_tibble002)
raw_tibble003 <- text003 %>%
str_split(pattern = "\n") %>%
unlist() %>%
tibble(data = .)  %>% filter(str_length(data) >= 2) %>%
mutate(old=data
,data=data %>%str_replace_all('_','')%>%str_replace_all('—','')%>%str_replace_all("'",'')%>%str_replace_all('"','')
) %>%
separate(
data,
into = c("one", "price"),
sep = c("¥")
) %>% mutate(
id = str_extract(one, "^\\S+ ")
,name=gsub("^\\S+ ", "",one)
)%>%slice(2:19)
glimpse(raw_tibble003)
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003)
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=str_extract_all(price, "\\d+"))
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=str_extract_all(price, "\\d+"))
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
View(data)
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=str_extract_all(price, "\\d+")) %>% unlist() %>% as.numeric()
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=str_extract_all(price, "\\d+") %>% unlist() %>% as.numeric())
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=str_extract_all(price, "\\d+") )
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=parse_number(price))
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=parse_number(price) %>% obs())
data=rbind(raw_tibble001,raw_tibble002,raw_tibble003) %>% mutate(price=parse_number(price) %>% abs())
library(openxlsx)
library(readxl)
write.xlsx(data,'image output data.xlsx')
